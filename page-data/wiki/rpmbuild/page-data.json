{"componentChunkName":"component---src-templates-wiki-js","path":"/wiki/rpmbuild/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"summary\">Summary</h1>\n<p>To build an rpm, the following packages need to be installed:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># yum install rpm-build rpmdevtools libpcap-devel</code></pre></div>\n<p>Once the packages are installed:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># rpmdev-setuptree</code></pre></div>\n<p>The above command will create an rpmbuild folder in your home director that will have 5 other directories in it (BUILD,\nRPMS, SOURCES, SPECS, and SRPMS). This is where the rpm building magic will happen.</p>\n<p>The process to build an rpm is as follows:</p>\n<ol>\n<li>Download source package</li>\n<li>Extract the .spec file</li>\n<li>Put the tared source into the SOURCES folder</li>\n<li>Put the .spec file in the SPECS folder</li>\n<li>Then, run the below command:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># rpmbuild -ba &lt;program&gt;.spec</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># rpmbuild --define &quot;_topdir `pwd`&quot; -ba SPECS/project.spec # RHEL5</code></pre></div>\n<p>If a spec file is not found, it is possible to create one; and luckily, a template can be generated to help with\ngetting started.</p>\n<p>To create a template run the below command:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># rpmdev-newspec &lt;spec file name&gt;</code></pre></div>\n<p>Once you have the spec file created, run the below command to attempt to build\nand fix any errors:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># rpmbuild -ba &lt;spec file name&gt;</code></pre></div>\n<h1 id=\"building-an-rpm-from-a-src-rpm\">Building an rpm from a src rpm</h1>\n<p>These are just great… if done correctly.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># yum install rpm-build rpmdevtools libpcap-devel\n# rpmdev-setuptree</code></pre></div>\n<p>The above will need to be complete first, but then…</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># rpmbuild --rebuild &lt;package&gt;.src.rpm</code></pre></div>\n<p>The above will create an RPM located in the rpmbuild folder for you to install! To install the rpm package, use the\n<code class=\"language-text\">rpm</code> command.</p>\n<p><em>Other references:</em></p>\n<ul>\n<li><a href=\"https://fedoraproject.org/wiki/How_to_create_a_GNU_Hello_RPM_package\"><code class=\"language-text\">How to create a GNU Hello RPM package</code></a></li>\n<li><a href=\"https://www.redhat.com/archives/rpm-list/2002-February/msg00030.html\"><code class=\"language-text\">Building Binary RPM Packages from Source RPMs mini-HOWTO</code></a></li>\n</ul>\n<p><em>Referenced commands:</em> <a href=\"/wiki/rpm\"><code class=\"language-text\">rpm</code></a></p>","tableOfContents":"<ul>\n<li><a href=\"/wiki/rpmbuild/#summary\">Summary</a></li>\n<li><a href=\"/wiki/rpmbuild/#building-an-rpm-from-a-src-rpm\">Building an rpm from a src rpm</a></li>\n</ul>","timeToRead":2,"fields":{"slug":"/wiki/rpmbuild/"},"frontmatter":{"author":"mhassel","categories":["linux"],"created":"2020-11-20","description":"rpmbuild","feature":false,"image":null,"show":true,"tags":["command line","linux"],"title":"rpmbuild","updated":null},"parent":{"__typename":"File","sourceInstanceName":"wiki"}}},"pageContext":{"slug":"/wiki/rpmbuild/"}},"staticQueryHashes":["1245490772","1673447228","1673447228","2742190585","3424645583","3813927108","3813927108","4171525417"]}